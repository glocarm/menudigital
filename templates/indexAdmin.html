<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
    
    <title>Menú del Bar</title>
    <link
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/static/style.css" />
  </head>

  <body id="root">
    <section class="info-local">
      {% if db_empresa %}
        <section>
              <header class="img_cel">
                <img
                  src="{{ url_for('static', filename='images/'+ db_empresa[7] )}}"
                  class="portada1"
                  alt="Imagen de Portada"
                />
                <div class="card_local">
                  <div>
                    <img
                      src="{{ url_for('static', filename='images/'+db_empresa[6])}}"
                      class="img_card"
                      alt="Logo Resto Bar"
                    /> 
                  </div>
                  <div >
                    <h1 class="texto-ajustado">{{db_empresa[2]}}</h1>
                    <h4 class="texto-ajustado">{{db_empresa[3]}}</h4>
                  </div>
                </div>
              </header>
        </section> 
        <!-- Dirección Local y Mapa-->
        <div class="ubicacion">
          <h5>Dirección :{{ db_empresa[4] }}</h5>
          <a href="{{db_empresa[8]}}" target="_blank">Ver en el mapa</a>
        </div>
        <div class="horarios">
          Abierto las 24 Horas
          <button class="btn_horario map_link" onclick="mostrarHorarios()">
            Horarios de Atención
          </button>
        </div>
      {% endif %}
      </div> 

      <!--Acordeón de productos -->
      <section  class="menu-section">
        <div >
          <h3>Categorías</h3>
          <div class="accordion">
            {% for db_categoria in categoria %}
            <h4 onclick="toggleAccordion(this)">{{ db_categoria[1] }}</h4>
            <!-- Asumiendo que el nombre de la categoría está en la segunda posición -->
            <div class="panel">
              {% for db_menu in menu %} {% if db_menu[5] == db_categoria[0] %}
              <!-- Asumiendo que el id de la categoría está en la primera posición en la tabla menu-->
              <div class="product-card">
                <img 
                  src="{{ url_for('static', filename='images/'+db_menu[4])}}" alt="{{ db_menu[4]}}" />
                  <h5>{{ db_menu[1] }}</h5>
                  <!-- <p>{{ db_menu[2] }}</p> DESCRIPCION DEL PLATO-->
                  <p>Precio: $ {{ db_menu[3] }}</p>
              </div>
              {% endif %} {% endfor %}
            </div>
            <hr />
            {% endfor %}
          </div>
        </div>
      </section>
    </section>

    <script>
      function ingresar() {
        alert("{{ db_empresa[5] }}");
      }
      function toggleAccordion(element) {
        const panel = element.nextElementSibling;
        panel.style.display =
          panel.style.display === "block" ? "none" : "block";
      }
    </script>



    <script>
      function mostrarHorarios() {
        alert("Lunes a Viernes: 8:00 - 18:00 Sábado: 9:00 - 14:00");
      }
      function toggleAccordion(element) {
        const panel = element.nextElementSibling;
        panel.style.display =
          panel.style.display === "block" ? "none" : "block";
      }

      document.addEventListener("DOMContentLoaded", function () {
        const buttons = document.querySelectorAll(".filter-btn");
        const rows = document.querySelectorAll(".tablaMenu tbody tr");
      });
    </script>
  </body>
</html>
